<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>语音测试</title>
</head>
<body>
    <h1>语音合成测试</h1>
    <button onclick="testPinyinSpeech()">测试拼音字母发音</button>
    <button onclick="testLiuDecomposition()">测试"六"字分解</button>
    <div id="result"></div>
    
    <script>
        function testPinyinSpeech() {
            const testTexts = ['ì', 'l', 'i', 'u', 'où', '了', '一'];
            let index = 0;
            
            function speakNext() {
                if (index >= testTexts.length) {
                    document.getElementById('result').innerHTML += '<p>测试完成</p>';
                    return;
                }
                
                const text = testTexts[index];
                document.getElementById('result').innerHTML += `<p>正在朗读: ${text}</p>`;
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'zh-CN';
                utterance.rate = 0.5;
                utterance.onend = () => {
                    index++;
                    setTimeout(speakNext, 500);
                };
                
                speechSynthesis.speak(utterance);
            }
            
            speechSynthesis.cancel();
            document.getElementById('result').innerHTML = '<h2>测试结果:</h2>';
            speakNext();
        }
        
        function testLiuDecomposition() {
            const sequence = ['了', '一', 'où', '六'];
            let index = 0;
            
            function speakNext() {
                if (index >= sequence.length) {
                    document.getElementById('result').innerHTML += '<p>"六"字分解朗读完成</p>';
                    return;
                }
                
                const text = sequence[index];
                document.getElementById('result').innerHTML += `<p>朗读: ${text}</p>`;
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'zh-CN';
                utterance.rate = 0.4;
                utterance.onend = () => {
                    index++;
                    setTimeout(speakNext, 500);
                };
                
                speechSynthesis.speak(utterance);
            }
            
            speechSynthesis.cancel();
            document.getElementById('result').innerHTML = '<h2>"六"字分解测试:</h2>';
            speakNext();
        }
    </script>
</body>
</html>
