<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Áî≤È™®ÊñáÂ≠¶‰π† - Â≠¶ÈæÑÂâçÂÑøÁ´•Ê±âÂ≠óÂêØËíô</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .age-selector {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 8px 0;
            flex-wrap: wrap;
        }
        
        .age-btn {
            padding: 10px 20px;
            font-size: 18px;
            font-weight: bold;
            border: 2px solid #4CAF50;
            background: linear-gradient(135deg, #81C784, #4CAF50);
            color: white;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .age-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        
        .age-btn.active {
            background: linear-gradient(135deg, #FF9800, #F57C00);
            border-color: #FF9800;
        }
        
        .age-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        .age-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .character-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 0.5px;
            margin: 1px 0;
            padding: 0;
            max-height: none;
            overflow: visible;
            width: 100%;
            box-sizing: border-box;
        }
        
        /* Âπ¥ÈæÑÁªÑÁâπÂÆöÂ∏ÉÂ±Ä */
        #grid-2 {
            /* 2Â≤ÅÁªÑÔºö10‰∏™Â≠óÔºå1Ë°å */
            grid-template-rows: repeat(1, 1fr);
        }
        
        #grid-3 {
            /* 3Â≤ÅÁªÑÔºö20‰∏™Â≠óÔºå2Ë°å */
            grid-template-rows: repeat(2, 1fr);
        }
        
        #grid-4 {
            /* 4Â≤ÅÁªÑÔºö30‰∏™Â≠óÔºå3Ë°å */
            grid-template-rows: repeat(3, 1fr);
        }
        
        #grid-5 {
            /* 5Â≤ÅÁªÑÔºö40‰∏™Â≠óÔºå5Ë°å */
            grid-template-rows: repeat(5, 1fr);
        }
        
        /* Âπ≥ÊùøÁîµËÑëÈÄÇÈÖç */
        @media (max-width: 1024px) {
            .character-grid {
                grid-template-columns: repeat(10, 1fr);
                gap: 0.5px;
            }
            
            .character-card {
                min-height: 42px;
                padding: 1px;
            }
        }
        
        @media (max-width: 768px) {
            .character-grid {
                grid-template-columns: repeat(10, 1fr);
                gap: 0.5px;
            }
            
            .character-card {
                min-height: 40px;
                padding: 0.5px;
            }
            
            .character-display {
                font-size: 16px;
            }
            
            .character-info {
                font-size: 5px;
            }
        }
        
        .character-card {
            background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
            border: 1px solid #2196F3;
            border-radius: 3px;
            padding: 1px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 45px;
            box-sizing: border-box;
            width: 100%;
            margin: 0;
            max-width: 100%;
            overflow: hidden;
        }
        
        .character-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
            border-color: #FF9800;
        }
        
        .character-display {
            font-size: 18px;
            font-weight: bold;
            color: #1976D2;
            margin-bottom: 0;
            font-family: 'FangZhengOracle', 'ZhongYanYuan', 'OeasyOracle', serif;
            line-height: 1;
        }
        
        @media (max-width: 1024px) {
            .character-display {
                font-size: 20px;
                margin-bottom: 2px;
            }
        }
        
        @media (max-width: 768px) {
            .character-display {
                font-size: 18px;
                margin-bottom: 1px;
            }
        }
        
        .character-info {
            font-size: 6px;
            color: #424242;
            line-height: 0.9;
        }
        
        @media (max-width: 1024px) {
            .character-info {
                font-size: 7px;
            }
        }
        
        @media (max-width: 768px) {
            .character-info {
                font-size: 6px;
            }
        }
        
        .character-pronunciation {
            font-weight: bold;
            color: #E91E63;
            margin-bottom: 2px;
        }
        
        .character-meaning {
            color: #666;
        }
        
        .section-title {
            text-align: center;
            font-size: 22px;
            color: #2E7D32;
            margin: 6px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .main-title {
            text-align: center;
            font-size: 42px;
            color: #1976D2;
            margin: 30px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            text-align: center;
            font-size: 18px;
            color: #666;
            margin-bottom: 30px;
        }
        
        body {
            background: linear-gradient(135deg, #F8F9FA, #E9ECEF);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 8px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            height: calc(100vh - 16px);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .age-section {
            flex: 1;
            overflow: visible;
            display: none;
        }
        
        .age-section.active {
            display: flex;
            flex-direction: column;
        }
        
        /* Èü≥È¢ëÊéßÂà∂Ê†∑Âºè */
        .audio-controls {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 6px;
            margin-bottom: 4px;
            padding: 3px 8px;
        }
        
        .volume-icon {
            font-size: 20px;
            cursor: pointer;
            user-select: none;
        }
        
        .volume-slider {
            width: 100px;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            cursor: pointer;
        }
        
        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <!-- ËÉåÊôØÈü≥‰πê -->
    <audio id="bgmAudio" loop preload="auto">
        <source src="audio/bgm.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Â∫ÜÁ•ùÈü≥Êïà -->
    <audio id="passAudio" preload="auto">
        <source src="audio/pass.mp3" type="audio/mpeg">
    </audio>
    
    <!-- ‰π¶ÂÜôÈü≥Êïà -->
    <audio id="slashAudio" loop preload="auto">
        <source src="audio/slash.mp3" type="audio/mpeg">
    </audio>
    
    <div class="container">
        <!-- Èü≥ÈáèÊéßÂà∂ -->
        <div class="audio-controls">
            <input type="range" id="volumeSlider" min="0" max="100" value="50" class="volume-slider">
        </div>
        
        <div class="age-selector">
            <button class="age-btn active" onclick="showAge(2)">üë∂ 2Â≤Å (10Â≠ó)</button>
            <button class="age-btn" onclick="showAge(3)">üßí 3Â≤Å (20Â≠ó)</button>
            <button class="age-btn" onclick="showAge(4)">üë¶ 4Â≤Å (30Â≠ó)</button>
            <button class="age-btn" onclick="showAge(5)">üëß 5Â≤Å (40Â≠ó)</button>
        </div>
        
        <!-- 2Â≤ÅÊ±âÂ≠ó -->
        <div id="age-2" class="age-section active">
            <h2 class="section-title">üë∂ 2Â≤ÅÂÆùÂÆùÂ≠¶Ê±âÂ≠ó (10‰∏™Â≠ó - 1Ë°å)</h2>
            <div class="character-grid" id="grid-2"></div>
        </div>
        
        <!-- 3Â≤ÅÊ±âÂ≠ó -->
        <div id="age-3" class="age-section">
            <h2 class="section-title">üßí 3Â≤ÅÂ∞èÊúãÂèãÂ≠¶Ê±âÂ≠ó (20‰∏™Â≠ó - 2Ë°å)</h2>
            <div class="character-grid" id="grid-3"></div>
        </div>
        
        <!-- 4Â≤ÅÊ±âÂ≠ó -->
        <div id="age-4" class="age-section">
            <h2 class="section-title">üë¶ 4Â≤ÅÂ∞èÊúãÂèãÂ≠¶Ê±âÂ≠ó (30‰∏™Â≠ó - 3Ë°å)</h2>
            <div class="character-grid" id="grid-4"></div>
        </div>
        
        <!-- 5Â≤ÅÊ±âÂ≠ó -->
        <div id="age-5" class="age-section">
            <h2 class="section-title">üëß 5Â≤ÅÂ∞èÊúãÂèãÂ≠¶Ê±âÂ≠ó (40‰∏™Â≠ó - 5Ë°å)</h2>
            <div class="character-grid" id="grid-5"></div>
        </div>
    </div>
    
    <script>
        // Âπ¥ÈæÑÊÆµÊ±âÂ≠óÊï∞ÊçÆÔºàÊØè‰∏™Âπ¥ÈæÑÊÆµÁöÑÊ±âÂ≠ó‰∏çÈáçÂ§çÔºâ
        const ageCharacters = {
            2: ['‰∏Ä', '‰∫å', '‰∏â', '‰∫∫', 'Â§ß', 'Â∞è', 'ÁõÆ', 'Êâã', 'Êó•', 'Êúà'],
            3: ['Âõõ', '‰∫î', 'ÂÖ≠', '‰∏É', 'ÂÖ´', '‰πù', 'ÂçÅ', 'Âè£', 'ËÄ≥', 'ÂøÉ', 'Êú®', 'ÁÅ´', 'Ê∞¥', 'Âúü', 'Â§©', '‰∏ä', '‰∏ã', 'Èáë', 'Â∑•', 'ÂéÇ'],
            4: ['Áâõ', 'È©¨', 'Áæä', 'Áä¨', 'È∏ü', 'Ëô´', 'Áà∂', 'ÊØç', 'Â≠ê', 'Â•≥', 'Áî∞', 'ËÄÅ', 'ÂÖ•', '‰∏ú', 'Ë•ø', 'Âçó', 'Âåó', 'ÁôΩ', 'Áîµ', 'ÂàÄ', 'Âºì', 'Áü¢', 'ÁΩë', 'Áü≥', 'ÂÖÑ', 'Ëá™', 'Áâô', 'Áà™', 'ÂÜÖ', 'Â§ñ'],
            5: ['Êà∑', 'Á±≥', 'Á¶æ', 'Ë±Ü', 'Áìú', 'Êûú', 'Ëä±', 'Âè∂', 'Ë¥ù', 'Ë°£', 'È£ü', 'Ë°å', '‰∫ë', 'Èõ®', 'Èõ™', 'È£é', 'Ê∞î', 'Âäõ', 'Á´π', '‰∏ù', 'Ë°Ä', 'È™®', 'ËÇâ', 'ÁöÆ', 'ÊØõ', 'Ë∫´', 'Â§¥', 'Ë∂≥', 'Á´ã', 'ËßÅ', 'Ë®Ä', 'Ê≠¢', '‰∏≠', 'Âºü', 'Èùí', 'Â±Æ', 'Â±±', 'Â∑ù', '‰∫ï', 'È±º']
        };
        
        // Ê±âÂ≠ó‰ø°ÊÅØÊï∞ÊçÆÂ∫ìÔºàÊâ©Â±ïÁâàÔºâ
        const characterInfo = {
            '‰∏Ä': { pronunciation: 'yƒ´', meaning: 'Êï∞Â≠ó‰∏Ä' },
            '‰∫å': { pronunciation: '√®r', meaning: 'Êï∞Â≠ó‰∫å' },
            '‰∏â': { pronunciation: 'sƒÅn', meaning: 'Êï∞Â≠ó‰∏â' },
            '‰∫∫': { pronunciation: 'r√©n', meaning: '‰∫∫Á±ª' },
            'Â§ß': { pronunciation: 'd√†', meaning: 'Â§ßÁöÑ' },
            'Â∞è': { pronunciation: 'xi«éo', meaning: 'Â∞èÁöÑ' },
            'ÁõÆ': { pronunciation: 'm√π', meaning: 'ÁúºÁùõ' },
            'Êâã': { pronunciation: 'sh«íu', meaning: 'ÊâãÊéå' },
            'Êó•': { pronunciation: 'r√¨', meaning: 'Â§™Èò≥' },
            'Êúà': { pronunciation: 'yu√®', meaning: 'Êúà‰∫Æ' },
            'Âõõ': { pronunciation: 's√¨', meaning: 'Êï∞Â≠óÂõõ' },
            '‰∫î': { pronunciation: 'w«î', meaning: 'Êï∞Â≠ó‰∫î' },
            'ÂÖ≠': { pronunciation: 'li√π', meaning: 'Êï∞Â≠óÂÖ≠' },
            '‰∏É': { pronunciation: 'qƒ´', meaning: 'Êï∞Â≠ó‰∏É' },
            'ÂÖ´': { pronunciation: 'bƒÅ', meaning: 'Êï∞Â≠óÂÖ´' },
            '‰πù': { pronunciation: 'ji«î', meaning: 'Êï∞Â≠ó‰πù' },
            'ÂçÅ': { pronunciation: 'sh√≠', meaning: 'Êï∞Â≠óÂçÅ' },
            'Âè£': { pronunciation: 'k«íu', meaning: 'Âò¥Â∑¥' },
            'ËÄ≥': { pronunciation: 'ƒõr', meaning: 'ËÄ≥Êúµ' },
            'ÂøÉ': { pronunciation: 'xƒ´n', meaning: 'ÂøÉËÑè' },
            'Êú®': { pronunciation: 'm√π', meaning: 'Ê†ëÊú®' },
            'ÁÅ´': { pronunciation: 'hu«í', meaning: 'ÁÅ´ÁÑ∞' },
            'Ê∞¥': { pronunciation: 'shu«ê', meaning: 'Ê∞¥' },
            'Âúü': { pronunciation: 't«î', meaning: 'ÂúüÂú∞' },
            'Â±±': { pronunciation: 'shƒÅn', meaning: 'Â±±Â≥∞' },
            'Â§©': { pronunciation: 'tiƒÅn', meaning: 'Â§©Á©∫' },
            '‰∏ä': { pronunciation: 'sh√†ng', meaning: '‰∏äÈù¢' },
            '‰∏ã': { pronunciation: 'xi√†', meaning: '‰∏ãÈù¢' },
            '‰∏≠': { pronunciation: 'zh≈çng', meaning: '‰∏≠Èó¥' },
            'Áâõ': { pronunciation: 'ni√∫', meaning: 'Áâõ' },
            'È©¨': { pronunciation: 'm«é', meaning: 'È©¨' },
            'Áæä': { pronunciation: 'y√°ng', meaning: 'Áæä' },
            'Áä¨': { pronunciation: 'qu«én', meaning: 'Áãó' },
            'È∏ü': { pronunciation: 'ni«éo', meaning: 'È∏ü' },
            'Ëô´': { pronunciation: 'ch√≥ng', meaning: 'Ëô´Â≠ê' },
            'Áîµ': { pronunciation: 'di√†n', meaning: 'Èó™Áîµ' },
            'Áà∂': { pronunciation: 'f√π', meaning: 'Áà∂‰∫≤' },
            'ÊØç': { pronunciation: 'm«î', meaning: 'ÊØç‰∫≤' },
            'Â≠ê': { pronunciation: 'z«ê', meaning: 'ÂÑøÂ≠ê' },
            'Â•≥': { pronunciation: 'n«ö', meaning: 'Â•≥ÂÑø' },
            'ËÄÅ': { pronunciation: 'l«éo', meaning: 'Âπ¥ËÄÅ' },
            'ÂÖ•': { pronunciation: 'r√π', meaning: 'ËøõÂÖ•' },
            'Â∑¶': { pronunciation: 'zu«í', meaning: 'Â∑¶Ëæπ' },
            'Âè≥': { pronunciation: 'y√≤u', meaning: 'Âè≥Ëæπ' },

            '‰∏ú': { pronunciation: 'd≈çng', meaning: '‰∏úÊñπ' },
            'Ë•ø': { pronunciation: 'xƒ´', meaning: 'Ë•øÊñπ' },
            'Âçó': { pronunciation: 'n√°n', meaning: 'ÂçóÊñπ' },
            'Âåó': { pronunciation: 'bƒõi', meaning: 'ÂåóÊñπ' },
            'ÁôΩ': { pronunciation: 'b√°i', meaning: 'ÁôΩËâ≤' },
            'Êà∑': { pronunciation: 'h√π', meaning: 'Èó®Êà∑' },





            'Áî∞': { pronunciation: 'ti√°n', meaning: 'Áî∞Âú∞' },
            'Á±≥': { pronunciation: 'm«ê', meaning: 'Á±≥Á≤í' },
            'Á¶æ': { pronunciation: 'h√©', meaning: 'Á¶æËãó' },

            'Ë±Ü': { pronunciation: 'd√≤u', meaning: 'Ë±ÜÂ≠ê' },
            'Áìú': { pronunciation: 'guƒÅ', meaning: 'ÁìúÊûú' },
            'Êûú': { pronunciation: 'gu«í', meaning: 'ÊûúÂÆû' },
            'Ëä±': { pronunciation: 'huƒÅ', meaning: 'Ëä±Êúµ' },

            'Âè∂': { pronunciation: 'y√®', meaning: 'Âè∂Â≠ê' },

            'Áü≥': { pronunciation: 'sh√≠', meaning: 'Áü≥Â§¥' },
            'Èáë': { pronunciation: 'jƒ´n', meaning: 'ÈáëÂ≠ê' },

            'Ë¥ù': { pronunciation: 'b√®i', meaning: 'Ë¥ùÂ£≥' },

            'Ë°£': { pronunciation: 'yƒ´', meaning: 'Ë°£Êúç' },
            'È£ü': { pronunciation: 'sh√≠', meaning: 'È£üÁâ©' },

            'Ë°å': { pronunciation: 'x√≠ng', meaning: 'Ë°åËµ∞' },


            'Âê¨': { pronunciation: 'tƒ´ng', meaning: 'Âê¨ËßÅ' },
            'Áúã': { pronunciation: 'k√†n', meaning: 'ÁúãËßÅ' },
            '‰∫ë': { pronunciation: 'y√∫n', meaning: '‰∫ëÊúµ' },
            'Èõ®': { pronunciation: 'y«î', meaning: 'Èõ®Ê∞¥' },
            'Èõ™': { pronunciation: 'xuƒõ', meaning: 'Èõ™Ëä±' },
            'È£é': { pronunciation: 'fƒìng', meaning: 'È£é' },
            'Ê∞î': { pronunciation: 'q√¨', meaning: 'Ê∞î‰Ωì' },
            'Âäõ': { pronunciation: 'l√¨', meaning: 'ÂäõÊ∞î' },
            'Á´π': { pronunciation: 'zh√∫', meaning: 'Á´πÂ≠ê' },
            '‰∏ù': { pronunciation: 'sƒ´', meaning: '‰∏ùÁ∫ø' },
            'Ë°Ä': { pronunciation: 'xu√®', meaning: 'Ë°ÄÊ∂≤' },
            'È™®': { pronunciation: 'g«î', meaning: 'È™®Â§¥' },
            'ËÇâ': { pronunciation: 'r√≤u', meaning: 'ËÇâ' },
            'ÁöÆ': { pronunciation: 'p√≠', meaning: 'ÁöÆËÇ§' },
            'ÊØõ': { pronunciation: 'm√°o', meaning: 'ÊØõÂèë' },
            'Ë∫´': { pronunciation: 'shƒìn', meaning: 'Ë∫´‰Ωì' },
            'Â§¥': { pronunciation: 't√≥u', meaning: 'Â§¥ÈÉ®' },
            'Ë∂≥': { pronunciation: 'z√∫', meaning: 'ËÑö' },
            'Á´ã': { pronunciation: 'l√¨', meaning: 'Á´ôÁ´ã' },
            'ËßÅ': { pronunciation: 'ji√†n', meaning: 'ÁúãËßÅ' },
            'Ë®Ä': { pronunciation: 'y√°n', meaning: 'ËØ¥ËØù' },
            'Ê≠¢': { pronunciation: 'zh«ê', meaning: 'ÂÅúÊ≠¢' },
            'ÂàÄ': { pronunciation: 'dƒÅo', meaning: 'ÂàÄ' },
            'Âºì': { pronunciation: 'g≈çng', meaning: 'Âºì' },
            'Áü¢': { pronunciation: 'sh«ê', meaning: 'ÁÆ≠' },
            'ÁΩë': { pronunciation: 'w«éng', meaning: 'ÁΩë' },
            'ÂÖÑ': { pronunciation: 'xi≈çng', meaning: 'Âì•Âì•' },
            'Âºü': { pronunciation: 'd√¨', meaning: 'ÂºüÂºü' },
            'Èùí': { pronunciation: 'qƒ´ng', meaning: 'ÈùíËâ≤' },
            'Â±Æ': { pronunciation: 'ch√®', meaning: 'ËçâÊú®ÂàùÁîü' },
            'Ëá™': { pronunciation: 'z√¨', meaning: 'Ëá™Â∑±' },
            'Áâô': { pronunciation: 'y√°', meaning: 'ÁâôÈΩø' },
            'Â∑•': { pronunciation: 'g≈çng', meaning: 'Â∑•‰Ωú' },
            'ÂéÇ': { pronunciation: 'ch«éng', meaning: 'Â∑•ÂéÇ' },
            'Áà™': { pronunciation: 'zh«éo', meaning: 'Áà™Â≠ê' },
            'ÂÜÖ': { pronunciation: 'n√®i', meaning: 'ÈáåÈù¢' },
            'Â§ñ': { pronunciation: 'w√†i', meaning: 'Â§ñÈù¢' },
            'Â∑ù': { pronunciation: 'chuƒÅn', meaning: 'Ê≤≥ÊµÅ' },
            '‰∫ï': { pronunciation: 'j«êng', meaning: 'Ê∞¥‰∫ï' },
            'È±º': { pronunciation: 'y√∫', meaning: 'È±º' }
        };
        
        // ÊòæÁ§∫ÊåáÂÆöÂπ¥ÈæÑÊÆµ
        function showAge(age) {
            // ÈöêËóèÊâÄÊúâÂπ¥ÈæÑÊÆµ
            document.querySelectorAll('.age-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // ÁßªÈô§ÊâÄÊúâÊåâÈíÆÁöÑactiveÁä∂ÊÄÅ
            document.querySelectorAll('.age-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // ÊòæÁ§∫ÈÄâ‰∏≠ÁöÑÂπ¥ÈæÑÊÆµ
            document.getElementById(`age-${age}`).classList.add('active');
            
            // ÊøÄÊ¥ªÂØπÂ∫îÊåâÈíÆÔºàÈÄöËøáÂπ¥ÈæÑÊü•ÊâæÂØπÂ∫îÊåâÈíÆÔºâ
            const targetBtn = document.querySelector(`button[onclick="showAge(${age})"]`);
            if (targetBtn) {
                targetBtn.classList.add('active');
            }
        }
        
        // ÂàõÂª∫Ê±âÂ≠óÂç°Áâá
        function createCharacterCard(char) {
            const info = characterInfo[char] || { pronunciation: '', meaning: '' };
            return `
                <div class="character-card" onclick="goToChar('${char}')">
                    <div class="character-display">${char}</div>
                    <div class="character-info">
                        <div class="character-pronunciation">${info.pronunciation}</div>
                        <div class="character-meaning">${info.meaning}</div>
                    </div>
                </div>
            `;
        }
        
        // Ë∑≥ËΩ¨Âà∞Â≠óÁ¨¶ÁªÉ‰π†È°µÈù¢
        function goToChar(char) {
            // ÊâæÂà∞ÂΩìÂâçÂ≠óÁ¨¶ÊâÄÂ±ûÁöÑÂπ¥ÈæÑÁªÑ
            let currentAge = null;
            for (const [age, characters] of Object.entries(ageCharacters)) {
                if (characters.includes(char)) {
                    currentAge = age;
                    break;
                }
            }
            
            // ‰øùÂ≠òÂΩìÂâçÂπ¥ÈæÑÁªÑÂà∞localStorage
            if (currentAge) {
                localStorage.setItem('currentAge', currentAge);
            }
            
            window.location.href = `char.html?c=${encodeURIComponent(char)}`;
        }
        
        // ÂàùÂßãÂåñÈ°µÈù¢
        function initPage() {
            // ‰∏∫ÊØè‰∏™Âπ¥ÈæÑÊÆµÁîüÊàêÊ±âÂ≠óÂç°Áâá
            Object.keys(ageCharacters).forEach(age => {
                const grid = document.getElementById(`grid-${age}`);
                const characters = ageCharacters[age];
                grid.innerHTML = characters.map(char => createCharacterCard(char)).join('');
            });
        }
        
        // Èü≥È¢ëÊéßÂà∂ÂäüËÉΩ
        let bgmAudio;
        let volumeSlider;
        
        function initAudio() {
            bgmAudio = document.getElementById('bgmAudio');
            volumeSlider = document.getElementById('volumeSlider');
            
            // ËØ¶ÁªÜÁöÑÈü≥È¢ëÂÖÉÁ¥†Áä∂ÊÄÅÊ£ÄÊü•
            console.log('üéµ Èü≥È¢ëÂàùÂßãÂåñÂºÄÂßã...');
            console.log('bgmAudioÂÖÉÁ¥†:', bgmAudio);
            console.log('Èü≥È¢ëÊñá‰ª∂Ë∑ØÂæÑ:', bgmAudio ? bgmAudio.src : 'Êú™ÊâæÂà∞');
            console.log('Èü≥È¢ëreadyState:', bgmAudio ? bgmAudio.readyState : 'Êú™Áü•');
            console.log('Èü≥È¢ënetworkState:', bgmAudio ? bgmAudio.networkState : 'Êú™Áü•');
            console.log('Èü≥È¢ëpausedÁä∂ÊÄÅ:', bgmAudio ? bgmAudio.paused : 'Êú™Áü•');
            console.log('Èü≥È¢ëmutedÁä∂ÊÄÅ:', bgmAudio ? bgmAudio.muted : 'Êú™Áü•');
            
            // ‰ªélocalStorageÊÅ¢Â§çÈü≥ÈáèËÆæÁΩÆ
            const savedVolume = localStorage.getItem('oracleAudioVolume');
            const volume = savedVolume !== null ? Math.max(parseInt(savedVolume), 10) : 50; // Á°Æ‰øùÈü≥ÈáèËá≥Â∞ë‰∏∫10
            
            // ËÆæÁΩÆÈü≥Èáè
            volumeSlider.value = volume;
            bgmAudio.volume = volume / 100;
            
            console.log('È¶ñÈ°µÊÅ¢Â§çÈü≥ÈáèËÆæÁΩÆ:', volume);
            console.log('ÂÆûÈôÖËÆæÁΩÆÁöÑÈü≥ÈáèÂÄº:', bgmAudio.volume);
            
            // Èü≥ÈáèÊªëÂùó‰∫ã‰ª∂
            volumeSlider.addEventListener('input', function() {
                const volume = this.value / 100;
                bgmAudio.volume = volume;
                
                // ‰øùÂ≠òÈü≥ÈáèËÆæÁΩÆÂà∞localStorage
                localStorage.setItem('oracleAudioVolume', this.value);
            });
            
            // Êí≠ÊîæÊåâÈíÆÂ∑≤Âà†Èô§ÔºåÁé∞Âú®‰æùËµñËá™Âä®Êí≠ÊîæÊú∫Âà∂
            
            // ÊµèËßàÂô®ÂÖºÂÆπÊÄßÊ£ÄÊµã
            const userAgent = navigator.userAgent.toLowerCase();
            const isFirefox = userAgent.indexOf('firefox') > -1;
            const isChrome = userAgent.indexOf('chrome') > -1;
            const isSafari = userAgent.indexOf('safari') > -1 && !isChrome;
            const isMobile = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent);
            
            console.log('üåê ÊµèËßàÂô®Ê£ÄÊµãÁªìÊûú:');
            console.log('Firefox:', isFirefox);
            console.log('Chrome:', isChrome);
            console.log('Safari:', isSafari);
            console.log('ÁßªÂä®ËÆæÂ§á:', isMobile);
            console.log('Áî®Êà∑‰ª£ÁêÜ:', userAgent);
            
            // Ê£ÄÊü•Èü≥È¢ëÊîØÊåÅ
            console.log('üîä Èü≥È¢ëÊîØÊåÅÊ£ÄÊµã:');
            console.log('AudioContextÊîØÊåÅ:', !!(window.AudioContext || window.webkitAudioContext));
            console.log('HTML5 AudioÊîØÊåÅ:', !!window.Audio);
            console.log('MP3Ê†ºÂºèÊîØÊåÅ:', bgmAudio ? bgmAudio.canPlayType('audio/mpeg') : 'Êú™Áü•');
            
            // Ê£ÄÊü•ÊµèËßàÂô®ÊùÉÈôêÂíåËá™Âä®Êí≠ÊîæÁ≠ñÁï•
            console.log('üîê ÊµèËßàÂô®ÊùÉÈôêÂíåÁ≠ñÁï•Ê£ÄÊµã:');
            
            // Ê£ÄÊü•Ëá™Âä®Êí≠ÊîæÁ≠ñÁï•
            if ('permissions' in navigator) {
                navigator.permissions.query({name: 'autoplay'}).then(result => {
                    console.log('Ëá™Âä®Êí≠ÊîæÊùÉÈôêÁä∂ÊÄÅ:', result.state);
                }).catch(e => {
                    console.log('Êó†Ê≥ïÊü•ËØ¢Ëá™Âä®Êí≠ÊîæÊùÉÈôê:', e);
                });
            } else {
                console.log('ÊµèËßàÂô®‰∏çÊîØÊåÅÊùÉÈôêAPI');
            }
            
            // Ê£ÄÊü•Â™í‰Ωì‰ºöËØùAPIÊîØÊåÅ
            console.log('MediaSession APIÊîØÊåÅ:', 'mediaSession' in navigator);
            
            // Ê£ÄÊü•È°µÈù¢ÊòØÂê¶ÈÄöËøáHTTPSËÆøÈóÆ
            console.log('HTTPSÂçèËÆÆ:', location.protocol === 'https:');
            console.log('ÂΩìÂâçÂçèËÆÆ:', location.protocol);
            
            // Ê£ÄÊü•Áî®Êà∑ÊøÄÊ¥ªÁä∂ÊÄÅ
            if ('userActivation' in navigator) {
                console.log('Áî®Êà∑ÊøÄÊ¥ªÁä∂ÊÄÅ:', navigator.userActivation.hasBeenActive);
                console.log('ÂΩìÂâçÁî®Êà∑ÊøÄÊ¥ª:', navigator.userActivation.isActive);
            } else {
                console.log('ÊµèËßàÂô®‰∏çÊîØÊåÅÁî®Êà∑ÊøÄÊ¥ªAPI');
            }
            
            // FirefoxÁâπÂÆöÁöÑÈü≥È¢ë‰∏ä‰∏ãÊñáÂ§ÑÁêÜ
            let audioContext;
            
            if (isFirefox && window.AudioContext) {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    console.log('FirefoxÈü≥È¢ë‰∏ä‰∏ãÊñáÂ∑≤ÂàõÂª∫ÔºåÁä∂ÊÄÅ:', audioContext.state);
                } catch (e) {
                    console.error('Èü≥È¢ë‰∏ä‰∏ãÊñáÂàõÂª∫Â§±Ë¥•:', e);
                }
            }
            
            // ÈáçÊñ∞ÂàõÂª∫Èü≥È¢ëÂÖÉÁ¥†ÁöÑÂ§áÁî®Á≠ñÁï•
        function recreateAudioElement() {
            console.log('üîÑ ÈáçÊñ∞ÂàõÂª∫Èü≥È¢ëÂÖÉÁ¥†...');
            
            // ÁßªÈô§ÊóßÁöÑÈü≥È¢ëÂÖÉÁ¥†
            if (bgmAudio && bgmAudio.parentNode) {
                bgmAudio.parentNode.removeChild(bgmAudio);
            }
            
            // ÂàõÂª∫Êñ∞ÁöÑÈü≥È¢ëÂÖÉÁ¥†
            bgmAudio = document.createElement('audio');
            bgmAudio.id = 'bgmAudio';
            bgmAudio.loop = true;
            bgmAudio.preload = 'auto';
            const savedVol = localStorage.getItem('oracleAudioVolume');
            bgmAudio.volume = savedVol !== null ? Math.max(parseInt(savedVol), 10) / 100 : 0.5;
            
            // Ê∑ªÂä†Èü≥È¢ëÊ∫ê
            const source = document.createElement('source');
            source.src = 'audio/bgm.mp3';
            source.type = 'audio/mpeg';
            bgmAudio.appendChild(source);
            
            // Ê∑ªÂä†Âà∞È°µÈù¢
            document.body.appendChild(bgmAudio);
            
            console.log('‚úÖ Èü≥È¢ëÂÖÉÁ¥†ÈáçÊñ∞ÂàõÂª∫ÂÆåÊàê');
            
            // ÈáçÊñ∞Ê∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨Âô®
            setupAudioEventListeners();
            
            // Â∞ùËØïÊí≠Êîæ
            setTimeout(() => {
                playAudio();
            }, 500);
        }
        
        // ËÆæÁΩÆÈü≥È¢ë‰∫ã‰ª∂ÁõëÂê¨Âô®
        function setupAudioEventListeners() {
            bgmAudio.addEventListener('loadstart', () => console.log('üîÑ ÂºÄÂßãÂä†ËΩΩÈü≥È¢ë'));
            bgmAudio.addEventListener('loadeddata', () => console.log('üìä Èü≥È¢ëÊï∞ÊçÆÂä†ËΩΩÂÆåÊàê'));
            bgmAudio.addEventListener('canplay', () => console.log('‚ñ∂Ô∏è Èü≥È¢ëÂèØ‰ª•ÂºÄÂßãÊí≠Êîæ'));
            bgmAudio.addEventListener('canplaythrough', () => console.log('üéµ Èü≥È¢ëÂèØ‰ª•ÂÆåÊï¥Êí≠Êîæ'));
            bgmAudio.addEventListener('play', () => console.log('üé∂ Èü≥È¢ëÂºÄÂßãÊí≠Êîæ'));
            bgmAudio.addEventListener('playing', () => console.log('üéµ Èü≥È¢ëÊ≠£Âú®Êí≠Êîæ'));
            bgmAudio.addEventListener('pause', () => console.log('‚è∏Ô∏è Èü≥È¢ëÊöÇÂÅú'));
            bgmAudio.addEventListener('ended', () => console.log('üîö Èü≥È¢ëÊí≠ÊîæÁªìÊùü'));
            bgmAudio.addEventListener('error', (e) => {
                console.error('‚ùå Èü≥È¢ëÈîôËØØ‰∫ã‰ª∂:', e);
                console.error('ÈîôËØØËØ¶ÊÉÖ:', bgmAudio.error);
            });
            bgmAudio.addEventListener('stalled', () => console.warn('‚ö†Ô∏è Èü≥È¢ëÂä†ËΩΩÂÅúÊªû'));
            bgmAudio.addEventListener('waiting', () => console.warn('‚è≥ Èü≥È¢ëÁºìÂÜ≤‰∏≠'));
        }
        
        // Âº∫Âà∂Êí≠ÊîæÁ≠ñÁï•ÔºàÂ§öÁßçÊñπÊ≥ïÂ∞ùËØïÔºâ
        function forcePlayAudio() {
            console.log('üí™ ÂêØÁî®Âº∫Âà∂Êí≠ÊîæÁ≠ñÁï•...');
            
            const strategies = [
                // Á≠ñÁï•1ÔºöÁõ¥Êé•Êí≠Êîæ
                () => {
                    console.log('Á≠ñÁï•1ÔºöÁõ¥Êé•Êí≠Êîæ');
                    return bgmAudio.play();
                },
                // Á≠ñÁï•2ÔºöÈáçÁΩÆÂêéÊí≠Êîæ
                () => {
                    console.log('Á≠ñÁï•2ÔºöÈáçÁΩÆÂêéÊí≠Êîæ');
                    bgmAudio.currentTime = 0;
                    return bgmAudio.play();
                },
                // Á≠ñÁï•3ÔºöÂä†ËΩΩÂêéÊí≠Êîæ
                () => {
                    console.log('Á≠ñÁï•3ÔºöÂä†ËΩΩÂêéÊí≠Êîæ');
                    bgmAudio.load();
                    return new Promise((resolve, reject) => {
                        bgmAudio.addEventListener('canplay', () => {
                            bgmAudio.play().then(resolve).catch(reject);
                        }, { once: true });
                    });
                },
                // Á≠ñÁï•4ÔºöÈáçÊñ∞ÂàõÂª∫ÂÖÉÁ¥†
                () => {
                    console.log('Á≠ñÁï•4ÔºöÈáçÊñ∞ÂàõÂª∫ÂÖÉÁ¥†');
                    recreateAudioElement();
                    return new Promise((resolve) => {
                        setTimeout(() => {
                            bgmAudio.play().then(resolve).catch(() => resolve());
                        }, 1000);
                    });
                }
            ];
            
            let currentStrategy = 0;
            
            function tryNextStrategy() {
                if (currentStrategy >= strategies.length) {
                    console.error('üí• ÊâÄÊúâÊí≠ÊîæÁ≠ñÁï•ÈÉΩÂ§±Ë¥•‰∫Ü');
                    return;
                }
                
                const strategy = strategies[currentStrategy++];
                const result = strategy();
                
                if (result && typeof result.then === 'function') {
                    result.then(() => {
                        console.log(`‚úÖ Á≠ñÁï•${currentStrategy}ÊàêÂäüÔºÅ`);
                    }).catch((error) => {
                        console.log(`‚ùå Á≠ñÁï•${currentStrategy}Â§±Ë¥•:`, error.message);
                        setTimeout(tryNextStrategy, 1000);
                    });
                } else {
                    setTimeout(tryNextStrategy, 1000);
                }
            }
            
            tryNextStrategy();
        }
        
        // Âº∫ÂåñÁöÑÁî®Êà∑‰∫§‰∫íËß¶ÂèëÈÄªËæë
            const playAudio = async () => {
                console.log('üéØ ÂºÄÂßãÂ∞ùËØïÊí≠ÊîæÈü≥È¢ë...');
                console.log('ÂΩìÂâçÈü≥È¢ëÁä∂ÊÄÅ - paused:', bgmAudio.paused, 'ended:', bgmAudio.ended);
                console.log('ÂΩìÂâçÈü≥È¢ëÊó∂Èó¥:', bgmAudio.currentTime, 'ÊÄªÊó∂Èïø:', bgmAudio.duration);
                
                try {
                    // FirefoxÁâπÂÆöÂ§ÑÁêÜÔºöÁ°Æ‰øùÈü≥È¢ë‰∏ä‰∏ãÊñáÂ∑≤ÊøÄÊ¥ª
                    if (isFirefox && audioContext) {
                        console.log('FirefoxÈü≥È¢ë‰∏ä‰∏ãÊñáÂΩìÂâçÁä∂ÊÄÅ:', audioContext.state);
                        if (audioContext.state === 'suspended') {
                            await audioContext.resume();
                            console.log('‚úÖ FirefoxÈü≥È¢ë‰∏ä‰∏ãÊñáÂ∑≤ÊÅ¢Â§çÂà∞:', audioContext.state);
                        }
                    }
                    
                    // ÈáçÊñ∞Âä†ËΩΩÈü≥È¢ë‰ª•Á°Æ‰øùFirefoxÂÖºÂÆπÊÄß
                    console.log('üîÑ ÈáçÊñ∞Âä†ËΩΩÈü≥È¢ëÊñá‰ª∂...');
                    bgmAudio.load();
                    
                    // Á≠âÂæÖÈü≥È¢ëÂä†ËΩΩÂÆåÊàê
                    console.log('‚è≥ Á≠âÂæÖÈü≥È¢ëÂä†ËΩΩÂÆåÊàê...');
                    await new Promise((resolve, reject) => {
                        const onCanPlay = () => {
                            console.log('‚úÖ Èü≥È¢ëÂä†ËΩΩÂÆåÊàêÔºåreadyState:', bgmAudio.readyState);
                            resolve();
                        };
                        const onError = (e) => {
                            console.error('‚ùå Èü≥È¢ëÂä†ËΩΩÂ§±Ë¥•:', e);
                            console.error('Èü≥È¢ëÈîôËØØËØ¶ÊÉÖ:', bgmAudio.error);
                            reject(e);
                        };
                        
                        bgmAudio.addEventListener('canplaythrough', onCanPlay, { once: true });
                        bgmAudio.addEventListener('error', onError, { once: true });
                        setTimeout(() => {
                            console.warn('‚ö†Ô∏è Èü≥È¢ëÂä†ËΩΩË∂ÖÊó∂');
                            reject(new Error('Èü≥È¢ëÂä†ËΩΩË∂ÖÊó∂'));
                        }, 5000); // 5ÁßíË∂ÖÊó∂
                    });
                    
                    console.log('üéµ Â∞ùËØïÊí≠ÊîæÈü≥È¢ë...');
                    const playPromise = bgmAudio.play();
                    if (playPromise !== undefined) {
                        await playPromise;
                        console.log('üéâ ËÉåÊôØÈü≥‰πêÊí≠ÊîæÊàêÂäüÔºÅ');
                        console.log('Êí≠ÊîæÂêéÁä∂ÊÄÅ - paused:', bgmAudio.paused, 'volume:', bgmAudio.volume);
                    } else {
                        console.warn('‚ö†Ô∏è play()ÊñπÊ≥ïËøîÂõûundefined');
                    }
                } catch (error) {
                    console.error('‚ùå Èü≥È¢ëÊí≠ÊîæÂ§±Ë¥•:', error);
                    console.error('ÈîôËØØÁ±ªÂûã:', error.name);
                    console.error('ÈîôËØØÊ∂àÊÅØ:', error.message);
                    console.error('Èü≥È¢ëÂÖÉÁ¥†ÈîôËØØ:', bgmAudio.error);
                    
                    // ÂàÜÊûêÂÖ∑‰ΩìÁöÑÊí≠ÊîæÂ§±Ë¥•ÂéüÂõ†
                    if (error.name === 'NotAllowedError') {
                        console.error('üö´ ÊµèËßàÂô®ÈòªÊ≠¢‰∫ÜËá™Âä®Êí≠ÊîæÔºåÈúÄË¶ÅÁî®Êà∑‰∫§‰∫í');
                    } else if (error.name === 'NotSupportedError') {
                        console.error('üö´ Èü≥È¢ëÊ†ºÂºè‰∏çÊîØÊåÅ');
                        // Â∞ùËØïÈáçÊñ∞ÂàõÂª∫Èü≥È¢ëÂÖÉÁ¥†
                        recreateAudioElement();
                    } else if (error.name === 'AbortError') {
                        console.error('üö´ Êí≠ÊîæË¢´‰∏≠Ê≠¢');
                    }
                    
                    // ÈáçËØïÊú∫Âà∂
                    console.log('üîÑ 1ÁßíÂêéÂ∞ùËØïÈáçËØïÊí≠Êîæ...');
                    setTimeout(() => {
                        console.log('üîÑ ÊâßË°åÈáçËØïÊí≠Êîæ...');
                        bgmAudio.play().then(() => {
                            console.log('‚úÖ ÈáçËØïÊí≠ÊîæÊàêÂäü');
                        }).catch(e => {
                            console.error('‚ùå ÈáçËØïÊí≠ÊîæÂ§±Ë¥•:', e);
                            // Â¶ÇÊûúÈáçËØïÂ§±Ë¥•ÔºåÂêØÁî®Âº∫Âà∂Êí≠ÊîæÁ≠ñÁï•
                            forcePlayAudio();
                        });
                    }, 1000);
                }
            };
            
            // Ê∑ªÂä†Èü≥È¢ë‰∫ã‰ª∂ÁõëÂê¨Âô®Êù•ÁõëÊéßÁä∂ÊÄÅ
            setupAudioEventListeners();
            
            // Á´ãÂç≥Â∞ùËØïËá™Âä®Êí≠Êîæ
            console.log('üöÄ ÂºÄÂßãËá™Âä®Êí≠ÊîæÂ∞ùËØï...');
            playAudio();
            
            // Ê∑ªÂä†Â§öÁßçÁî®Êà∑‰∫§‰∫í‰∫ã‰ª∂ÁõëÂê¨ - Êõ¥ÁßØÊûÅÁöÑËß¶ÂèëÁ≠ñÁï•
            const interactionEvents = ['click', 'touchstart', 'touchend', 'keydown', 'mousedown', 'pointerdown', 'mousemove', 'scroll'];
            let interactionTriggered = false;
            
            const playOnInteraction = (event) => {
                if (interactionTriggered) return;
                interactionTriggered = true;
                
                console.log('üëÜ Áî®Êà∑‰∫§‰∫íËß¶ÂèëÈü≥È¢ëÊí≠Êîæ:', event.type);
                playAudio();
                
                // ÁßªÈô§ÊâÄÊúâ‰∫ã‰ª∂ÁõëÂê¨Âô®
                interactionEvents.forEach(eventType => {
                    document.removeEventListener(eventType, playOnInteraction);
                });
            };
            
            // Á´ãÂç≥Ê∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨Âô®
            interactionEvents.forEach(event => {
                document.addEventListener(event, playOnInteraction, { once: true, passive: true });
            });
            
            // Âª∂Ëøü500msÂêéÂÜçÊ¨°Â∞ùËØïÊí≠ÊîæÔºàÁªôÊµèËßàÂô®Êõ¥Â§öÊó∂Èó¥ÂáÜÂ§áÔºâ
            setTimeout(() => {
                if (bgmAudio.paused) {
                    console.log('üîÑ Âª∂Ëøü500msÂêéÂÜçÊ¨°Â∞ùËØïËá™Âä®Êí≠Êîæ');
                    playAudio();
                }
            }, 500);
            
            // Âª∂Ëøü1ÁßíÂêéÂÜçÊ¨°Â∞ùËØïÊí≠Êîæ
            setTimeout(() => {
                if (bgmAudio.paused) {
                    console.log('üîÑ Âª∂Ëøü1ÁßíÂêéÂÜçÊ¨°Â∞ùËØïËá™Âä®Êí≠Êîæ');
                    playAudio();
                }
            }, 1000);
            
            // Ê∑ªÂä†È°µÈù¢ÂèØËßÅÊÄßÂèòÂåñÁõëÂê¨
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden && bgmAudio.paused) {
                    console.log('üëÅÔ∏è È°µÈù¢ÈáçÊñ∞ÂèØËßÅÔºåÂ∞ùËØïÊÅ¢Â§çÈü≥È¢ëÊí≠Êîæ');
                    playAudio();
                }
            });
            
            // FirefoxÁâπÂÆöÁöÑÈ¢ùÂ§ñËß¶ÂèëÁ≠ñÁï•
            if (isFirefox) {
                console.log('ü¶ä ÂêØÁî®FirefoxÁâπÂÆöÈü≥È¢ëÁ≠ñÁï•');
                
                // Âª∂ËøüÊí≠ÊîæÁ≠ñÁï•
                setTimeout(() => {
                    if (bgmAudio.paused) {
                        console.log('ü¶ä FirefoxÂª∂ËøüÊí≠ÊîæÂ∞ùËØï');
                        playAudio();
                    }
                }, 2000);
                
                // Èº†Ê†áÁßªÂä®Ëß¶Âèë
                let mouseMoveTriggered = false;
                document.addEventListener('mousemove', () => {
                    if (!mouseMoveTriggered && bgmAudio.paused) {
                        mouseMoveTriggered = true;
                        console.log('ü¶ä FirefoxÈº†Ê†áÁßªÂä®Ëß¶ÂèëÈü≥È¢ë');
                        playAudio();
                    }
                }, { once: true });
                
                // ÊªöÂä®Ëß¶Âèë
                let scrollTriggered = false;
                document.addEventListener('scroll', () => {
                    if (!scrollTriggered && bgmAudio.paused) {
                        scrollTriggered = true;
                        console.log('ü¶ä FirefoxÊªöÂä®Ëß¶ÂèëÈü≥È¢ë');
                        playAudio();
                    }
                }, { once: true });
            }
            
            // ÂÆöÊúüÊ£ÄÊü•Èü≥È¢ëÁä∂ÊÄÅ
             const audioStatusChecker = setInterval(() => {
                 if (bgmAudio.paused && !bgmAudio.ended) {
                     console.log('üîç ÂÆöÊúüÊ£ÄÊü•ÔºöÈü≥È¢ëÂ§Ñ‰∫éÊöÇÂÅúÁä∂ÊÄÅÔºåÂ∞ùËØïÊí≠Êîæ');
                     playAudio();
                 } else if (!bgmAudio.paused) {
                     console.log('‚úÖ ÂÆöÊúüÊ£ÄÊü•ÔºöÈü≥È¢ëÊ≠£Âú®Êí≠ÊîæÔºåÂÅúÊ≠¢Ê£ÄÊü•');
                     clearInterval(audioStatusChecker);
                 }
             }, 3000); // ÊØè3ÁßíÊ£ÄÊü•‰∏ÄÊ¨°
             
             // 10ÁßíÂêéÂ¶ÇÊûúËøòÊ≤°Êí≠ÊîæÊàêÂäüÔºåÂêØÁî®Âº∫Âà∂Êí≠ÊîæÁ≠ñÁï•
             setTimeout(() => {
                 if (bgmAudio.paused) {
                     console.log('‚è∞ 10ÁßíÂêé‰ªçÊú™Êí≠ÊîæÔºåÂêØÁî®Âº∫Âà∂Êí≠ÊîæÁ≠ñÁï•');
                     forcePlayAudio();
                 }
                 clearInterval(audioStatusChecker);
                 console.log('‚è∞ ÂÅúÊ≠¢ÂÆöÊúüÈü≥È¢ëÁä∂ÊÄÅÊ£ÄÊü•');
             }, 10000);
        }
        
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            initPage();
            initAudio();
            
            // ÊÅ¢Â§ç‰πãÂâç‰øùÂ≠òÁöÑÂπ¥ÈæÑÁªÑÁä∂ÊÄÅ
            const savedAge = localStorage.getItem('currentAge');
            if (savedAge && ageCharacters[savedAge]) {
                console.log(`ÊÅ¢Â§çÂπ¥ÈæÑÁªÑÁä∂ÊÄÅ: ${savedAge}Â≤Å`);
                showAge(parseInt(savedAge));
            }
        });
    </script>
</body>
</html>